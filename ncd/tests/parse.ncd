process main {
    parse_number("awfa") x;
    not(x.succeeded) a;
    assert(a);

    parse_number("023182") x;
    assert(x.succeeded);
    val_equal(x, "23182") a;
    assert(a);

    parse_ipv4_addr("192.168.61.007") x;
    assert(x.succeeded);
    val_equal(x, "192.168.61.7") a;
    assert(a);

    parse_value("{\"Hello World\", {}}") x;
    assert(x.succeeded);
    val_equal(x, {"Hello World", {}}) a;
    assert(a);

    parse_value("{syntax error") x;
    not(x.succeeded) a;
    assert(a);
    
    parse_ipv4_cidr_addr("192.168.61.007/24") x;
    assert(x.succeeded);
    val_equal(x, "192.168.61.7/24") a;
    assert(a);
    val_equal(x.addr, "192.168.61.7") a;
    assert(a);
    val_equal(x.prefix, "24") a;
    assert(a);
    
    parse_ipv4_cidr_addr("192.168.61.007/33") x;
    not(x.succeeded) a;
    assert(a);
    
    exit("0");
}
